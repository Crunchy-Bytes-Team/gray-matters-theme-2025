<nav class='mobile-menu space-y-2' aria-label='Mobile menu'>
  <div class='border-b border-gray-200 pb-2' data-accordion-item>
    <button
      type='button'
      class='menu-drawer__menu-item w-full flex items-center justify-between py-3 text-sm tracking-wider uppercase hover:opacity-70 transition-opacity duration-200 ease-out'
      data-accordion-button
      aria-controls='MobileMenuCollection'
      aria-expanded='false'
    >
      <span>Collection</span>
      <span class='flex items-center gap-2'>
        <span aria-hidden='true' class='text-lg leading-none'>+</span>
        <span class='inline-flex items-center justify-center w-5 h-5 text-black' data-accordion-icon>
          <span data-icon-plus>{{- 'icon-plus.svg' | inline_asset_content -}}</span>
          <span data-icon-minus class='hidden'>{{- 'icon-minus.svg' | inline_asset_content -}}</span>
        </span>
      </span>
    </button>
    <div id='MobileMenuCollection' class='hidden pl-2 pb-3' data-accordion-panel>
      <ul class='space-y-2'>
        <li>
          <a
            href='{{ routes.all_products_collection_url }}'
            class='menu-drawer__menu-item block py-1 proxima-reg text-sm tracking-wider uppercase hover:opacity-70 transition-opacity duration-200 ease-out'
            >all</a
          >
        </li>
        <li>
          <a
            href='{{ routes.collections_url }}/the-latest'
            class='menu-drawer__menu-item block py-1 proxima-reg text-sm tracking-wider uppercase hover:opacity-70 transition-opacity duration-200 ease-out'
            >the latest</a
          >
        </li>
        <li>
          <a
            href='{{ routes.collections_url }}/classic'
            class='menu-drawer__menu-item block py-1 proxima-reg text-sm tracking-wider uppercase hover:opacity-70 transition-opacity duration-200 ease-out'
            >classic</a
          >
        </li>
        <li>
          <a
            href='{{ routes.collections_url }}/flats'
            class='menu-drawer__menu-item block py-1 proxima-reg text-sm tracking-wider uppercase hover:opacity-70 transition-opacity duration-200 ease-out'
            >flats</a
          >
        </li>
        <li>
          <a
            href='{{ routes.collections_url }}/boots'
            class='menu-drawer__menu-item block py-1 proxima-reg text-sm tracking-wider uppercase hover:opacity-70 transition-opacity duration-200 ease-out'
            >boots</a
          >
        </li>
      </ul>
    </div>
  </div>

  <div class='border-b border-gray-200 pb-2' data-accordion-item>
    <button
      type='button'
      class='menu-drawer__menu-item w-full flex items-center justify-between py-3 text-sm tracking-wider uppercase hover:opacity-70 transition-opacity duration-200 ease-out'
      data-accordion-button
      aria-controls='MobileMenuLanguage'
      aria-expanded='false'
    >
      <span>Select language</span>
      <span class='flex items-center gap-2'>
        <span aria-hidden='true' class='text-lg leading-none'>+</span>
        <span class='inline-flex items-center justify-center w-5 h-5 text-black' data-accordion-icon>
          <span data-icon-plus>{{- 'icon-plus.svg' | inline_asset_content -}}</span>
          <span data-icon-minus class='hidden'>{{- 'icon-minus.svg' | inline_asset_content -}}</span>
        </span>
      </span>
    </button>
    <div id='MobileMenuLanguage' class='hidden pl-2 pb-3' data-accordion-panel>
      {%- if localization.available_languages and localization.available_languages.size > 1 -%}
        <ul class='space-y-2'>
          {%- for language in localization.available_languages -%}
            <li>
              {%- if language.iso_code == localization.language.iso_code -%}
                <span class='menu-drawer__menu-item block py-1 proxima-reg text-sm tracking-wider uppercase font-semibold hover:opacity-70 transition-opacity duration-200 ease-out'>
                  {{ language.endonym_name | default: language.name }}
                </span>
              {%- else -%}
                <a
                  href='{{ language.root_url }}'
                  hreflang='{{ language.iso_code }}'
                  class='menu-drawer__menu-item block py-1 proxima-reg text-sm tracking-wider uppercase hover:opacity-70 transition-opacity duration-200 ease-out'
                >
                  {{ language.endonym_name | default: language.name }}
                </a>
              {%- endif -%}
            </li>
          {%- endfor -%}
        </ul>

      {%- else -%}
        <p class='text-sm text-gray-600'>{{ 'localization.language_label' | t }}</p>
      {%- endif -%}
    </div>
  </div>

  <div class='border-b border-gray-200 pb-2' data-accordion-item>
    <button
      type='button'
      class='menu-drawer__menu-item w-full flex items-center justify-between py-3 text-sm tracking-wider uppercase hover:opacity-70 transition-opacity duration-200 ease-out'
      data-accordion-button
      aria-controls='MobileMenuClientService'
      aria-expanded='false'
    >
      <span>Client Service</span>
      <span class='flex items-center gap-2'>
        <span aria-hidden='true' class='text-lg leading-none'>+</span>
        <span class='inline-flex items-center justify-center w-5 h-5 text-black' data-accordion-icon>
          <span data-icon-plus>{{- 'icon-plus.svg' | inline_asset_content -}}</span>
          <span data-icon-minus class='hidden'>{{- 'icon-minus.svg' | inline_asset_content -}}</span>
        </span>
      </span>
    </button>
    <div id='MobileMenuClientService' class='hidden pl-2 pb-3' data-accordion-panel>
      <a
        href='mailto:hello@graymattersnyc.com'
        class='menu-drawer__menu-item flex items-center gap-2 py-1 proxima-reg text-sm tracking-wider uppercase hover:opacity-70 transition-opacity duration-200 ease-out'
      >
        <i class='fa-solid fa-envelope' aria-hidden='true'></i>
        <span>Email</span>
      </a>
    </div>
  </div>
  <ul class='space-y-2 mt-4'>
    <li>
      <span class='menu-drawer__menu-item flex items-center gap-2 py-1 proxima-reg text-sm tracking-wider uppercase hover:opacity-70 transition-opacity duration-200 ease-out'>
        <i class='fa-solid fa-magnifying-glass text-gray-400' aria-hidden='true'></i>
        search
      </span>
    </li>
    <li>
      <span class='menu-drawer__menu-item flex items-center gap-2 py-1 proxima-reg text-sm tracking-wider uppercase hover:opacity-70 transition-opacity duration-200 ease-out'>
        <i class='fa-regular fa-user text-gray-400' aria-hidden='true'></i>
        login
      </span>
    </li>
    <li>
      <span class='menu-drawer__menu-item flex items-center gap-2 py-1 proxima-reg text-sm tracking-wider uppercase hover:opacity-70 transition-opacity duration-200 ease-out'>
        <i class='fa-brands fa-instagram text-gray-400' aria-hidden='true'></i>
        ig account name
      </span>
    </li>
  </ul>
</nav>

<script>
  (function () {
    var container = document.getElementById('MobileMenu');
    if (!container) return;
    var buttons = container.querySelectorAll('[data-accordion-button]');
    buttons.forEach(function (btn) {
      btn.addEventListener('click', function () {
        var panelId = btn.getAttribute('aria-controls');
        var panel = document.getElementById(panelId);
        if (!panel) return;
        var isHidden = panel.classList.contains('hidden');
        if (isHidden) {
          panel.classList.remove('hidden');
          btn.setAttribute('aria-expanded', 'true');
          var iconWrap = btn.querySelector('[data-accordion-icon]');
          if (iconWrap) {
            var plus = iconWrap.querySelector('[data-icon-plus]');
            var minus = iconWrap.querySelector('[data-icon-minus]');
            if (plus) plus.classList.add('hidden');
            if (minus) minus.classList.remove('hidden');
          }
        } else {
          panel.classList.add('hidden');
          btn.setAttribute('aria-expanded', 'false');
          var iconWrap = btn.querySelector('[data-accordion-icon]');
          if (iconWrap) {
            var plus = iconWrap.querySelector('[data-icon-plus]');
            var minus = iconWrap.querySelector('[data-icon-minus]');
            if (plus) plus.classList.remove('hidden');
            if (minus) minus.classList.add('hidden');
          }
        }
      });
    });
  })();
</script>
