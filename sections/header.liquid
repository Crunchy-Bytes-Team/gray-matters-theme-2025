<header class='bg-pink-300 px-4 h-12 flex flex-row items-center fixed top-0 left-0 right-0 z-50'>
  <div class='w-full flex flex-row justify-between bg-white h-full items-center'>
    <!-- hamburger -->
    <div class='flex lg:hidden w-2/12 items-start'>
      <button
        type='button'
        aria-label='Apri menu'
        class='p-2 text-black hover:opacity-70 transition-opacity duration-200 ease-out'
        data-open-mobile-menu
      >
        <i class='fa-solid fa-bars text-xl' aria-hidden='true'></i>
      </button>
    </div>
    <!-- logo -->
    <div class='flex flex-row justify-center w-10/12 lg:w-auto'>
      <a
        href='{{  routes.root_url }}'
        class='site-header__logo-image{% if section.settings.align_logo == 'center' %} site-header__logo-image--centered{% endif %}'
      >
        <img
          src='/cdn/shop/files/logo_d372fcc9-f883-42eb-be88-ef6796c08b5b_180x.png?v=1614331262'
          width='180'
          height='60'
          alt='{{ shop.name }} logo'
        >
      </a>
    </div>
    <!-- menu + icons -->
    <div class='flex flex-row items-end h-full w-2/12 lg:w-auto'>
      <!-- menu -->
      <nav class='hidden lg:flex flex-row items-center justify-center gap-1 text-black mr-10 h-full'>
        <div class='relative group h-full'>
          <a
            href='{{ routes.collections_url }}'
            class='h-full inline-flex items-center px-7 hover:opacity-70 hover:bg-gray-200 group-hover:bg-gray-200 transition-all duration-200 ease-out proxima-reg text-sm tracking-wider uppercase'
            >Collection</a
          >
          <div class='absolute left-0 top-full mt-0 hidden group-hover:block group-focus-within:block z-50'>
            <ul class='min-w-[200px] bg-gray-100 text-black py-2'>
              <li>
                <a
                  href='{{ routes.all_products_collection_url }}'
                  class='block px-4 py-2 proxima-reg text-sm tracking-wider uppercase hover:opacity-70 transition-opacity'
                  >all</a
                >
              </li>
              <li>
                <a
                  href='{{ routes.collections_url }}/the-latest'
                  class='block px-4 py-2 proxima-reg text-sm tracking-wider uppercase hover:opacity-70 transition-opacity'
                  >the latest</a
                >
              </li>
              <li>
                <a
                  href='{{ routes.collections_url }}/classic'
                  class='block px-4 py-2 proxima-reg text-sm tracking-wider uppercase hover:opacity-70 transition-opacity'
                  >classic</a
                >
              </li>
              <li>
                <a
                  href='{{ routes.collections_url }}/flats'
                  class='block px-4 py-2 proxima-reg text-sm tracking-wider uppercase hover:opacity-70 transition-opacity'
                  >flats</a
                >
              </li>
              <li>
                <a
                  href='{{ routes.collections_url }}/boots'
                  class='block px-4 py-2 proxima-reg text-sm tracking-wider uppercase hover:opacity-70 transition-opacity'
                  >boots</a
                >
              </li>
            </ul>
          </div>
        </div>

        {% if localization.available_languages and localization.available_languages.size > 1 %}
          <div class='relative group h-full'>
            <a
              href='/pages/select-language'
              class='h-full inline-flex items-center px-7 hover:opacity-70 hover:bg-gray-200 group-hover:bg-gray-200 transition-all duration-200 ease-out proxima-reg text-sm tracking-wider uppercase'
              aria-haspopup='true'
              >Select language</a
            >
            <div class='absolute left-0 top-full mt-0 hidden group-hover:block group-focus-within:block z-50'>
              <ul class='min-w-[200px] bg-gray-100 text-black py-2 shadow-lg'>
                {% for language in localization.available_languages %}
                  <li>
                    {% if language.iso_code == localization.language.iso_code %}
                      <span
                        class='block px-4 py-2 proxima-reg text-sm tracking-wider uppercase cursor-default font-semibold'
                      >
                        {{ language.endonym_name | default: language.name }}
                      </span>
                    {% else %}
                      <a
                        href='{{ language.root_url }}'
                        hreflang='{{ language.iso_code }}'
                        class='block px-4 py-2 proxima-reg text-sm tracking-wider hover:opacity-70 transition-opacity'
                      >
                        {{ language.endonym_name | default: language.name }}
                      </a>
                    {% endif %}
                  </li>
                {% endfor %}
              </ul>
            </div>
          </div>
        {% else %}
          <a
            href='/pages/select-language'
            class='h-full inline-flex items-center px-7 hover:opacity-70 hover:bg-gray-200 transition-all duration-200 ease-out proxima-reg text-sm tracking-wider uppercase'
            >Select language</a
          >
        {% endif %}

        <a
          href='/pages/client-service'
          class='h-full inline-flex items-center px-7 hover:opacity-70 hover:bg-gray-200 transition-all duration-200 ease-out proxima-reg text-sm tracking-wider uppercase'
          >Client Service</a
        >
      </nav>
      <!-- icons -->
      <div class='flex items-center justify-end gap-0 lg:gap-8 text-black h-full w-full lg:w-auto'>
        <a
          href='/pages/wishlist'
          aria-label='Wishlist'
          class='hidden lg:flex hover:opacity-70 transition-opacity duration-200 ease-out'
        >
          <i class='fa-solid fa-heart' aria-hidden='true'></i>
        </a>
        <button
          id='cart-icon-bubble'
          type='button'
          class='relative hover:opacity-70 transition-opacity duration-200 ease-out bg-transparent border-none p-0'
          aria-label='{{ 'templates.cart.cart' | t }}'
        >
          <i class='fa-solid fa-cart-shopping' aria-hidden='true'></i>
        </button>
        {% if shop.customer_accounts_enabled %}
          {% if customer %}
            <a
              href='{{ routes.account_url }}'
              aria-label='{{ 'customer.account_fallback' | t }}'
              class='hidden lg:flex hover:opacity-70 transition-opacity duration-200 ease-out'
            >
              <i class='fa-regular fa-user' aria-hidden='true'></i>
            </a>
          {% else %}
            <a
              href='{{ routes.account_login_url }}'
              aria-label='{{ 'customer.log_in' | t }}'
              class='hidden lg:flex hover:opacity-70 transition-opacity duration-200 ease-out'
            >
              <i class='fa-regular fa-user' aria-hidden='true'></i>
            </a>
          {% endif %}
        {% endif %}
        <a
          href='{{ routes.search_url }}'
          aria-label='{{ 'general.search.search' | t }}'
          class='hidden lg:flex hover:opacity-70 transition-opacity duration-200 ease-out'
        >
          <i class='fa-solid fa-magnifying-glass' aria-hidden='true'></i>
        </a>
        {% if settings.social_instagram_link != blank %}
          <a
            href='https://instagram.com/graymattersnyc'
            target='_blank'
            aria-label='Instagram'
            class='hover:opacity-70 transition-opacity duration-200 ease-out'
          >
            <i class='fa-brands fa-instagram' aria-hidden='true'></i>
          </a>
        {% endif %}
      </div>
    </div>
  </div>
</header>
<!-- Mobile menu drawer -->
<div
  id='MobileMenu'
  class='fixed inset-0 z-[60] lg:hidden hidden opacity-0 pointer-events-none transition-opacity duration-300 ease-out'
  aria-hidden='true'
>
  <!-- overlay -->
  <button
    class='absolute inset-0 bg-black/50 opacity-0 transition-opacity duration-300 ease-out'
    data-close-mobile-menu
    data-menu-overlay
    aria-label='Chiudi menu'
  ></button>
  <!-- drawer -->
  <aside
    class='absolute left-0 top-0 h-full w-[285px] max-w-[85%] bg-white shadow-xl p-6 overflow-y-auto transition-transform duration-300 ease-out -translate-x-full'
    data-menu-drawer
  >
    <button class='absolute top-3 right-3 p-2' data-close-mobile-menu aria-label='Chiudi menu'>
      <i class='fa-solid fa-xmark text-xl' aria-hidden='true'></i>
    </button>
    {% render 'mobile-menu' %}
  </aside>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var openBtn = document.querySelector('[data-open-mobile-menu]');
      var menu = document.getElementById('MobileMenu');
      if (!menu) return;
      var closers = menu.querySelectorAll('[data-close-mobile-menu]');
      var overlay = menu.querySelector('[data-menu-overlay]');
      var drawer = menu.querySelector('[data-menu-drawer]');
      var TRANSITION_MS = 300;

      function openMenu() {
        // show container to allow transitions
        menu.classList.remove('hidden');
        // next frame to ensure transition applies
        requestAnimationFrame(function () {
          document.body.classList.add('overflow-hidden');
          menu.setAttribute('aria-hidden', 'false');
          menu.classList.remove('opacity-0', 'pointer-events-none');
          menu.classList.add('opacity-100');
          if (overlay) overlay.classList.remove('opacity-0');
          if (overlay) overlay.classList.add('opacity-100');
          if (drawer) drawer.classList.remove('-translate-x-full');
          if (drawer) drawer.classList.add('translate-x-0');
        });
      }
      function closeMenu() {
        // start transitions
        menu.classList.add('opacity-0');
        menu.classList.remove('opacity-100');
        if (overlay) overlay.classList.add('opacity-0');
        if (overlay) overlay.classList.remove('opacity-100');
        if (drawer) drawer.classList.add('-translate-x-full');
        if (drawer) drawer.classList.remove('translate-x-0');
        menu.setAttribute('aria-hidden', 'true');
        document.body.classList.remove('overflow-hidden');
        // after transition, hide and disable pointer events
        setTimeout(function () {
          menu.classList.add('hidden', 'pointer-events-none');
        }, TRANSITION_MS);
      }

      if (openBtn) openBtn.addEventListener('click', openMenu);
      closers.forEach(function (el) {
        el.addEventListener('click', closeMenu);
      });
      window.addEventListener('keydown', function (e) {
        if (e.key === 'Escape') closeMenu();
      });
    });
  </script>
</div>
<div class='h-12'></div>
